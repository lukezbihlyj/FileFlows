@namespace FileFlows.Client.Components.Widgets

<ContainerWidget Title="@Title" Mode="Mode" ModeChanged="ModeChanged">
    @ChildContent

    @{
        var svg = GenerateSvg(Data, Color);
        if (svg != null)
        {
            <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 @svgWidth @svgHeight'>
                @((MarkupString)svg)
            </svg>
        }
        else
        {
            // Define the stroke color based on the input 'color'
            var stroke = Color switch
            {
                "green" => "#4CAF50",
                "yellow" => "#FFC107",
                "purple" => "#9C27B0",
                _ => "#444CF7" // Default to blue
            };

            // Add transparency to the stroke color for the fill
            var fill = stroke + "1A"; // Adding '1A' as 10% transparency

            <svg xmlns="http://www.w3.org/2000/svg" id="chart" width="100%" height="auto" viewBox="0 0 300 200">
                <path fill="@fill" d="M 0,198.66980852838824 C 2.6,198.00279687348979 7.799999999999999,198.07345374742945 13,195.33475025389595 C 18.200000000000003,192.59604676036244 20.8,186.6376618890544 26,184.97629106072077 C 31.2,183.31492023238712 33.8,187.45918372076048 39,187.0278961122277 C 44.2,186.5966085036949 46.8,185.40980385639094 52,182.8198530180569 C 57.2,180.22990217972287 59.8,176.81180955882147 65,174.07814192055758 C 70.2,171.3444742822937 72.8,170.89669182689113 78,169.15151482673753 C 83.2,167.40633782658392 85.8,169.1900083841243 91,165.35225691978962 C 96.2,161.51450545545495 98.8,154.8482537978103 104,149.96275750506413 C 109.2,145.07726121231798 111.8,146.60871008892028 117,140.9247754560589 C 122.2,135.24084082319754 124.8,124.87631653181504 130,121.54308434075735 C 135.2,118.20985214969966 137.8,118.42980265174883 143,124.25861450077048 C 148.2,130.0874263497921 150.8,150.57666846092465 156,150.68714358586556 C 161.2,150.79761871080646 163.8,131.7217106748888 169,124.81099012547499 C 174.2,117.90026957606118 176.8,121.22331551243117 182,116.13354083879648 C 187.2,111.04376616516178 189.8,95.70521088429624 195,99.36211675730152 C 200.2,103.01902263030681 202.8,129.2900501712186 208,134.4180702038229 C 213.2,139.5460902364272 215.8,136.41307570186237 221,125.00221692032295 C 226.2,113.59135813878353 228.8,79.8167216801738 234,77.36377629612583 C 239.2,74.91083091207787 241.8,114.1959230836929 247,112.73749000008313 C 252.2,111.27905691647335 254.8,81.16643856636537 260,70.07161087807697 C 265.2,58.97678318978856 267.8,52.90224495436772 273,57.26335155864112 C 278.2,61.62445816291452 280.8,96.09221789377891 286,91.877143899444 C 291.2,87.66206990510908 293.8,42.07533566667148 299,36.18798158696654 C 304.2,30.30062750726161 309.4,57.18989511812877 312,62.44037350091932L 300 200 L 0 200Z"/>
                <path fill="none" stroke="@stroke" stroke-width="2px" d="M 0,198.66980852838824 C 2.6,198.00279687348979 7.799999999999999,198.07345374742945 13,195.33475025389595 C 18.200000000000003,192.59604676036244 20.8,186.6376618890544 26,184.97629106072077 C 31.2,183.31492023238712 33.8,187.45918372076048 39,187.0278961122277 C 44.2,186.5966085036949 46.8,185.40980385639094 52,182.8198530180569 C 57.2,180.22990217972287 59.8,176.81180955882147 65,174.07814192055758 C 70.2,171.3444742822937 72.8,170.89669182689113 78,169.15151482673753 C 83.2,167.40633782658392 85.8,169.1900083841243 91,165.35225691978962 C 96.2,161.51450545545495 98.8,154.8482537978103 104,149.96275750506413 C 109.2,145.07726121231798 111.8,146.60871008892028 117,140.9247754560589 C 122.2,135.24084082319754 124.8,124.87631653181504 130,121.54308434075735 C 135.2,118.20985214969966 137.8,118.42980265174883 143,124.25861450077048 C 148.2,130.0874263497921 150.8,150.57666846092465 156,150.68714358586556 C 161.2,150.79761871080646 163.8,131.7217106748888 169,124.81099012547499 C 174.2,117.90026957606118 176.8,121.22331551243117 182,116.13354083879648 C 187.2,111.04376616516178 189.8,95.70521088429624 195,99.36211675730152 C 200.2,103.01902263030681 202.8,129.2900501712186 208,134.4180702038229 C 213.2,139.5460902364272 215.8,136.41307570186237 221,125.00221692032295 C 226.2,113.59135813878353 228.8,79.8167216801738 234,77.36377629612583 C 239.2,74.91083091207787 241.8,114.1959230836929 247,112.73749000008313 C 252.2,111.27905691647335 254.8,81.16643856636537 260,70.07161087807697 C 265.2,58.97678318978856 267.8,52.90224495436772 273,57.26335155864112 C 278.2,61.62445816291452 280.8,96.09221789377891 286,91.877143899444 C 291.2,87.66206990510908 293.8,42.07533566667148 299,36.18798158696654 C 304.2,30.30062750726161 309.4,57.18989511812877 312,62.44037350091932"/>
            </svg>
        }
    }
    
    <div class="details">
        <span class="icon"><i class="@Icon" /></span>
        <div class="details-main">
            <span class="total">@Total</span>
            <span class="suffix">@Suffix</span>
        </div>
    </div>
    
</ContainerWidget>